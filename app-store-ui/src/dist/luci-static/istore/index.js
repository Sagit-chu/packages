var ft=Object.defineProperty,gt=Object.defineProperties;var yt=Object.getOwnPropertyDescriptors;var rt=Object.getOwnPropertySymbols;var bt=Object.prototype.hasOwnProperty,$t=Object.prototype.propertyIsEnumerable;var ct=(t,e,o)=>e in t?ft(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,W=(t,e)=>{for(var o in e||(e={}))bt.call(e,o)&&ct(t,o,e[o]);if(rt)for(var o of rt(e))$t.call(e,o)&&ct(t,o,e[o]);return t},nt=(t,e)=>gt(t,yt(e));var kt=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var $=(t,e,o)=>new Promise((n,a)=>{var l=_=>{try{c(o.next(_))}catch(f){a(f)}},s=_=>{try{c(o.throw(_))}catch(f){a(f)}},c=_=>_.done?n(_.value):Promise.resolve(_.value).then(l,s);c((o=o.apply(t,e)).next())});import{o as d,c as p,h as wt,u as F,a as C,r as L,F as D,b as K,d as q,w as Ct,p as R,e as z,f as r,t as P,g as B,n as H,i as ut,j as g,k as dt,l as St,m as U,q as ot,s as pt,v as xt,x as j,y as _t,z as mt,A as At,B as lt,C as Lt,D as Tt,E as It}from"./vendor.js?v=7db2f86d";var Rs=kt(S=>{const Et=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function o(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerpolicy&&(l.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?l.credentials="include":a.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=o(a);fetch(a.href,l)}};Et();var y=(t,e)=>{const o=t.__vccOpts||t;for(const[n,a]of e)o[n]=a;return o};const Pt={},Bt={class:"cbi-section"};function Dt(t,e,o,n,a,l){return d(),p("fieldset",Bt)}var Ft=y(Pt,[["render",Dt]]);const Mt=()=>window.vue_base,Vt=()=>window.istore_api_base||"https://istore.linkease.com",Ut=t=>{if(t)return wt(t).format("YYYY-MM-DD HH:mm:ss")},Ot=()=>new Date().getTime(),Rt=t=>{if(t<1024)return""+t+"KB";let o=1024,n=0;for(let l=t/1024;l>=1024;l/=1024)o*=1024,n++;let a=["M","G","T","P","E"];return(t/100/(o/100)).toFixed(2)+a[n]},zt=t=>{if(t==null)return 0;if(t<1e4)return t;let o=parseInt(t/1e4),n=t%1e4;return`${o}\u4E07${n}`},Gt=()=>window.token||"",Kt=()=>{var t;return((t=window==null?void 0:window.device_id)==null?void 0:t.uid)||""},Wt=()=>{var t;return((t=window==null?void 0:window.device_id)==null?void 0:t.version)||""},Zt=()=>{var t;return((t=window==null?void 0:window.device_id)==null?void 0:t.arch)||""},qt=()=>"https://www.kooldns.cn/bind",it={all:"\u5168\u90E8",sys:"\u7CFB\u7EDF",tool:"\u5DE5\u5177",net:"\u7F51\u7EDC"},Ht=t=>it[t]?it[t]:t;var Yt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",BasePage:Mt,ApiBaseURL:Vt,formatDate:Ut,UnixDate:Ot,numberToSize:Rt,numberToSum:zt,getToken:Gt,getDeviceId:Kt,getVersion:Wt,modelArch:Zt,getIframeURL:qt,getTagValue:Ht}),T=W({},Yt);const Nt={setup(){const t=F(),e=C(()=>t.state.version);return{menus:C(()=>[{to:"/installed",name:"\u5DF2\u5B89\u88C5"},{to:"/store",name:"\u5168\u90E8\u8F6F\u4EF6"},{to:"/upload",name:"\u624B\u52A8\u5B89\u88C5"},{to:"/maintance",name:"\u7EF4\u62A4",up:e.value}])}}},Jt=t=>(R("data-v-1f9c0c24"),t=t(),z(),t),Qt={class:"tabs"},Xt=["href","onClick"],jt={key:0},te=Jt(()=>r("div",{class:"auto"},null,-1));function ee(t,e,o,n,a,l){const s=L("router-link");return d(),p("ul",Qt,[(d(!0),p(D,null,K(n.menus,c=>(d(),q(s,{to:c.to,custom:"",key:c.to},{default:Ct(({href:_,navigate:f,isActive:k})=>[r("li",{class:H(k&&"active cbi-tab")},[r("a",{href:_,onClick:f},P(c.name),9,Xt),c.up?(d(),p("span",jt)):B("",!0)],2)]),_:2},1032,["to"]))),128)),te])}var ne=y(Nt,[["render",ee],["__scopeId","data-v-1f9c0c24"]]);const w=ut.create({});w.interceptors.request.use(t=>(t.params==null&&(t.params={}),t.params=nt(W({},t.params),{token:T.getToken(),_t:T.UnixDate()}),t),t=>t);w.interceptors.response.use(t=>t,t=>t);const Z=ut.create({baseURL:T.ApiBaseURL()});Z.interceptors.request.use(t=>(t.params==null&&(t.params={}),t.params=nt(W({},t.params),{modelArch:T.modelArch(),deviceId:T.getDeviceId(),_t:T.UnixDate()}),t),t=>t);Z.interceptors.response.use(t=>t);const oe=()=>new Promise((t,e)=>$(S,null,function*(){try{const o=yield w({method:"GET",url:"/cgi-bin/luci/admin/store/installed"});if(o.status==200){t(o.data);return}e(o.status);return}catch(o){e(o);return}})),se=t=>new Promise((e,o)=>$(S,null,function*(){try{const n=yield w({method:"POST",url:"/cgi-bin/luci/admin/store/install",params:{package:t}});if(n.status==200){e(n.data);return}o(n.status);return}catch(n){o(n);return}})),ae=t=>new Promise((e,o)=>$(S,null,function*(){try{const n=yield w({method:"POST",url:"/cgi-bin/luci/admin/store/upgrade",params:{package:t}});if(n.status==200){e(n.data);return}o(n.status);return}catch(n){o(n);return}})),re=t=>new Promise((e,o)=>$(S,null,function*(){try{const n=yield w({method:"POST",url:"/cgi-bin/luci/admin/store/remove",params:{package:t}});if(n.status==200){e(n.data);return}o(n.status);return}catch(n){o(n);return}})),ce=()=>new Promise((t,e)=>$(S,null,function*(){try{const o=yield w({method:"POST",url:"/cgi-bin/luci/admin/store/update"});if(o.status==200){t(o.data);return}e(o.status);return}catch(o){e(o);return}})),le=t=>new Promise((e,o)=>$(S,null,function*(){try{const n=yield w({method:"GET",url:"/cgi-bin/luci/admin/store/status",params:{package:t}});if(n.status==200){e(n.data);return}o(n.status);return}catch(n){o(n);return}})),ie=()=>new Promise((t,e)=>$(S,null,function*(){try{const o=yield w({method:"GET",url:"/cgi-bin/luci/admin/store/log"});if(o.status==200){t(o.data);return}e(o.status);return}catch(o){e(o);return}})),ue=t=>new Promise((e,o)=>$(S,null,function*(){try{const n=yield w({method:"POST",url:"/cgi-bin/luci/admin/store/upload",headers:{"Content-Type":"multipart/form-data"},data:t});if(n.data){e(n.data);return}}catch(n){o(n);return}o("not found soft")})),de=()=>new Promise((t,e)=>$(S,null,function*(){try{const o=yield w({method:"POST",url:"/cgi-bin/luci/admin/store/light_backup"});if(o.status==200){t(o.data);return}e(o.status);return}catch(o){e(o);return}})),pe=t=>new Promise((e,o)=>$(S,null,function*(){try{const n=yield w({method:"POST",url:"/cgi-bin/luci/admin/store/light_restore",headers:{"Content-Type":"multipart/form-data"},data:t});if(n.data){e(n.data);return}}catch(n){o(n);return}o("not found soft")})),_e=t=>new Promise((e,o)=>$(S,null,function*(){try{const n=yield w({method:"GET",url:"/cgi-bin/luci/admin/store/get_available_backup_file_list",params:{path:t}});if(n.status==200){e(n==null?void 0:n.data);return}o(n.status);return}catch(n){o(n);return}})),me=()=>new Promise((t,e)=>$(S,null,function*(){try{const o=yield w({method:"GET",url:"/cgi-bin/luci/admin/store/get_local_backup_dir_path"});if(o.status==200){t(o==null?void 0:o.data);return}e(o.status);return}catch(o){e(o);return}})),he=(t,e)=>new Promise((o,n)=>$(S,null,function*(){try{const a=yield w({method:"POST",url:"/cgi-bin/luci/admin/store/local_backup",params:{path:t,force:e}});if(a.status==200){o(a==null?void 0:a.data);return}n(a.status);return}catch(a){n(a);return}})),ve=t=>new Promise((e,o)=>$(S,null,function*(){try{const n=yield w({method:"POST",url:"/cgi-bin/luci/admin/store/local_restore",params:{path:t}});if(n.status==200){e(n.data);return}o(n.status);return}catch(n){o(n);return}})),fe=()=>new Promise((t,e)=>$(S,null,function*(){try{const o=yield w({method:"GET",url:"/cgi-bin/luci/admin/store/get_block_devices"});if(o.status==200){t(o==null?void 0:o.data);return}e(o.status);return}catch(o){e(o);return}}));var ge=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",getInstalledApp:oe,installApp:se,upgradeApp:ae,removeApp:re,updateAppStore:ce,getAppStatus:le,getLog:ie,uploadAppIPK:ue,lightBackup:de,lightRestore:pe,backupFileList:_e,localBackupdirPath:me,localBackup:he,localRestore:ve,getBlockDevices:fe});const ye=t=>new Promise((e,o)=>$(S,null,function*(){var n,a,l,s;try{const c=yield Z({method:"GET",url:"/api/store/list",params:t});if(((n=c==null?void 0:c.data)==null?void 0:n.success)===0){e((a=c==null?void 0:c.data)==null?void 0:a.result);return}if((l=c==null?void 0:c.data)!=null&&l.message){o((s=c==null?void 0:c.data)==null?void 0:s.message);return}o("error")}catch(c){console.log(c),o(c);return}})),be=T.ApiBaseURL(),$e=t=>`${be}${t}`,ke=()=>new Promise((t,e)=>$(S,null,function*(){var o,n,a,l;try{const s=yield Z({method:"GET",url:"/api/store/tags"});if(((o=s==null?void 0:s.data)==null?void 0:o.success)===0){t((n=s==null?void 0:s.data)==null?void 0:n.result);return}if((a=s==null?void 0:s.data)!=null&&a.message){e((l=s==null?void 0:s.data)==null?void 0:l.message);return}e("error")}catch(s){e(s);return}})),we=t=>new Promise((e,o)=>{Z({method:"POST",url:"/api/store/expand",data:{appsId:t||[],deviceId:T.getDeviceId()}}).then(n=>{var a,l,s;if(((a=n.data)==null?void 0:a.success)==0&&((l=n.data)==null?void 0:l.result)){e((s=n.data)==null?void 0:s.result);return}o("not found expand")}).catch(n=>{o(n)})}),Ce=t=>{Z({method:"POST",url:"/api/store/download",data:{appId:t,deviceId:T.getDeviceId()}}).then(e=>{var o;((o=e.data)==null?void 0:o.success)!=0})},Se=t=>new Promise((e,o)=>{Z({method:"POST",url:"/api/store/star",data:{appId:t,deviceId:T.getDeviceId()}}).then(n=>{var a;if(((a=n.data)==null?void 0:a.success)==0){e(n.data);return}o("not found expand")}).catch(n=>{o(n)})});var xe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",getStoreAppList:ye,getStoreAppIcon:$e,getStoreTags:ke,getAppExpandData:we,increasingDownloadCount:Ce,postStarApp:Se});const Ae=()=>w({method:"GET",url:"/cgi-bin/luci/admin/store/check_self_upgrade"}),Le=()=>w({method:"POST",url:"/cgi-bin/luci/admin/store/do_self_upgrade"});var Te=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",updateIstore:Ae,selfUpdateIstore:Le}),b=W(W(W({},ge),xe),Te);const Ie={setup(){const t=F(),e=C(()=>t.state.log.action),o=C(()=>t.state.log.content),n=C(()=>t.state.log.end),a=C(()=>t.state.log.exitCode),l=g(!1),s=g(null);let c="",_=g(""),f=g("."),k="",I="";switch(e.value){case"install":c="\u6B63\u5728\u5B89\u88C5\u63D2\u4EF6",k="\u5B89\u88C5\u5B8C\u6210,\u8BF7\u5173\u95ED\u5F53\u524D\u7A97\u53E3",I="\u5B89\u88C5\u5931\u8D25,\u9519\u8BEF\u7801";break;case"uninstall":c="\u6B63\u5728\u5378\u8F7D\u63D2\u4EF6",k="\u5378\u8F7D\u6210\u529F,\u8BF7\u5173\u95ED\u5F53\u524D\u7A97\u53E3",I="\u5378\u8F7D\u5931\u8D25,\u9519\u8BEF\u7801";break;case"upgrade":c="\u6B63\u5728\u66F4\u65B0\u63D2\u4EF6",k="\u66F4\u65B0\u6210\u529F,\u8BF7\u5173\u95ED\u5F53\u524D\u7A97\u53E3",I="\u66F4\u65B0\u5931\u8D25,\u9519\u8BEF\u7801";break;case"upload":c="\u6B63\u5728\u4E0A\u4F20\u63D2\u4EF6",k="\u79BB\u7EBF\u5B89\u88C5\u6210\u529F,\u8BF7\u5173\u95ED\u5F53\u524D\u7A97\u53E3",I="\u79BB\u7EBF\u5B89\u88C5\u5931\u8D25,\u9519\u8BEF\u7801";break}dt(()=>{document.body.setAttribute("lock-scroll",!0),m()}),St(()=>{document.body.removeAttribute("lock-scroll")});const M=()=>{var h;(h=s.value)!=null&&h.scrollHeight&&(s.value.scrollTop=s.value.scrollHeight)},m=()=>{setTimeout(()=>{if(n.value){i();return}b.getLog().then(h=>{if(n.value){i();return}switch(h==null?void 0:h.code){}const G=h==null?void 0:h.stdout,V=h==null?void 0:h.stderr;(G||V)&&(_.value=`${G}${V}`),f.value=`${f.value}.`,M(),m()}).catch(h=>{_.value=`${h}`,m()})},500)},i=()=>{l.value=!0},u=()=>{location.reload()};return{logText:C(()=>l.value?a.value!==void 0&&a.value!==0?`${c}
${o.value}
${I} ${a.value}
`:`${c}
${o.value}
${k}
`:`${c}
${f.value}
${_.value}
${o.value}
`),Close:u,disabled:l,textDom:s}},mounted(){this.$nextTick(()=>{const t=document.querySelector("body");t.append?t.append(this.$el):t.appendChild(this.$el)})}},st=t=>(R("data-v-735db9cc"),t=t(),z(),t),Ee={class:"software-log_shade"},Pe=st(()=>r("div",{class:"software-log_shade__bg"},null,-1)),Be={class:"software-log_shade__pannel"},De=st(()=>r("div",{class:"software-log_shade__pannel-title"}," \u8F6F\u4EF6\u4E2D\u5FC3 - \u65E5\u5FD7\u8BB0\u5F55 ",-1)),Fe=st(()=>r("div",{class:"software-log_shade__pannel-now"},[r("i",null,"\xA0\xA0\xA0\xA0\u63D2\u4EF6\u5B89\u88C5/\u5378\u8F7D\u8FC7\u7A0B\u4E2D\u8BF7\u52FF\u5237\u65B0\u6B64\u9875\u9762\uFF01")],-1)),Me={class:"software-log_shade__pannel-content"},Ve=["value"],Ue={key:0,class:"software-log_shade__pannel-btn"};function Oe(t,e,o,n,a,l){return d(),p("div",Ee,[Pe,r("div",Be,[De,Fe,r("div",Me,[r("textarea",{ref:"textDom",cols:"63",rows:"26",wrap:"on",readonly:"readonly",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",value:n.logText},null,8,Ve)]),n.disabled?(d(),p("div",Ue,[r("button",{class:"close",onClick:e[0]||(e[0]=s=>n.Close())}," \u5173\u95ED ")])):B("",!0)])])}var Re=y(Ie,[["render",Oe],["__scopeId","data-v-735db9cc"]]);const ze={components:{AnnouncementComponent:Ft,TabsComponent:ne,LogComponent:Re},setup(){const t=F();return t.dispatch("getData"),{logStatus:C(()=>t.state.log.status)}}};function Ge(t,e,o,n,a,l){const s=L("TabsComponent"),c=L("router-view"),_=L("LogComponent");return d(),p(D,null,[U(s),U(c),n.logStatus?(d(),q(_,{key:0})):B("",!0)],64)}var Ke=y(ze,[["render",Ge]]);const We={props:{content:String,type:String,Close:Function,keep:Boolean,html:Boolean},setup(t){const e=g(t.content),o=g(t.keep),n=g(t.html);return t.keep||setTimeout(()=>{t.Close()},2e3),{msg:e,keep:o,close:()=>{t.Close()},html:n}}},Ze={class:"toast"},qe={key:1,class:"msg"},He=["innerHTML"];function Ye(t,e,o,n,a,l){return d(),p("div",Ze,[n.keep?(d(),p("div",{key:0,class:"toast-close",onClick:e[0]||(e[0]=(...s)=>n.close&&n.close(...s)),title:"\u5173\u95ED"},"x")):B("",!0),n.html?B("",!0):(d(),p("div",qe,P(n.msg),1)),n.html?(d(),p("div",{key:2,class:"msg",innerHTML:n.msg},null,8,He)):B("",!0)])}var Ne=y(We,[["render",Ye],["__scopeId","data-v-5ced897a"]]);const E=t=>{let e={content:"",type:"",keep:!1,html:!1,Close:()=>{n.unmount(o),document.body.removeChild(o)}};t!=null&&(typeof t=="object"?(e.content=(t==null?void 0:t.content)||"",e.type=(t==null?void 0:t.type)||"",e.keep=(t==null?void 0:t.keep)||!1,e.html=(t==null?void 0:t.html)||!1):e.content=t);let o=document.createElement("div"),n=ot(Ne,e);document.body.append(o),n.mount(o),pt(()=>{n.unmount(o),document.body.removeChild(o)})},Je={props:{content:String,Close:Function},setup(t){return{message:t.content}}},Qe=t=>(R("data-v-6d7664a4"),t=t(),z(),t),Xe={class:"loading"},je=Qe(()=>r("div",{class:"icon"},null,-1)),tn={class:"msg"};function en(t,e,o,n,a,l){return d(),p("div",Xe,[je,r("div",tn,P(n.message),1)])}var nn=y(Je,[["render",en],["__scopeId","data-v-6d7664a4"]]),O={props:{content:"",Close:()=>{}},Start(t){this.props={content:t||"\u52A0\u8F7D\u4E2D...",Close:()=>{e.unmount(o),document.body.removeChild(o)}};let e=ot(nn,this.props),o=document.createElement("div");document.body.append(o),e.mount(o),pt(()=>{this.props.Close()})},Stop(){this.props.Close()}},on={namespaced:!0,state:{Load:!1,LocalApps:[],StoreApps:[],Expand:{},Cur:{tag:"default",sort:"default",search:"",limit:30,offset:0},LocalAppsMap:{},StoreAppsMap:{}},mutations:{setExpand(t,e){t.Expand=e},setLocalApps(t,e){t.LocalApps=e||[],e.forEach(o=>{t.LocalAppsMap[o.name]=o})},setStoreApps(t,e){t.StoreApps=e||[],e.forEach(o=>{t.StoreAppsMap[o.name]=o})},setCur(t,e){for(const o in e)Object.hasOwnProperty.call(e,o)&&(t.Cur[o]=e[o])}},getters:{Cur(t){return t.Cur},LocalApps(t){let e=[...t.LocalApps],o=t.Expand;for(let n=0;n<e.length;n++){let a=e[n].name;o[a]&&(e[n].expand=o[a]),t.StoreAppsMap[a]&&(e[n].curVersion=e[n].version,e[n].curRelease=e[n].release,e[n].lastVersion=t.StoreAppsMap[a].version,e[n].lastRelease=t.StoreAppsMap[a].release)}return e},StoreApps(t){var s,c,_,f,k,I,M,m;let e=[...t.StoreApps],o=t.Expand;for(let i=0;i<e.length;i++){let u=e[i].name;o[u]&&(e[i].expand=o[u]),t.LocalAppsMap[u]&&(e[i].installed=!0,e[i].lastVersion=e[i].version,e[i].lastRelease=e[i].release,e[i].curVersion=t.LocalAppsMap[u].version,e[i].curRelease=t.LocalAppsMap[u].release)}let n=t.Cur.tag;if(n!="default"){let i=[];e.forEach(u=>{u.tags&&u.tags.forEach(v=>{v==n&&i.push(u)})}),e=i}let a=t.Cur.search;if(a){let i=[];e.forEach(u=>{let v=JSON.stringify(u);new RegExp(a,"i").test(v)&&i.push(u)}),e=i}let l=e.length;switch(t.Cur.sort){case"download":for(let i=0;i<l-1;i++)for(let u=0;u<l-1-i;u++){let v=((c=(s=e[u])==null?void 0:s.expand)==null?void 0:c.downloadCount)||0,h=((f=(_=e[u+1])==null?void 0:_.expand)==null?void 0:f.downloadCount)||0;if(v<h){let G=e[u];e[u]=e[u+1],e[u+1]=G}}break;case"star":for(let i=0;i<l-1;i++)for(let u=0;u<l-1-i;u++){let v=((I=(k=e[u])==null?void 0:k.expand)==null?void 0:I.starCount)||0,h=((m=(M=e[u+1])==null?void 0:M.expand)==null?void 0:m.starCount)||0;if(v<h){let G=e[u];e[u]=e[u+1],e[u+1]=G}}break}return e}},actions:{incrAppDownload(t,e){const{state:o}=t;o.Expand[e==null?void 0:e.name]&&o.Expand[e==null?void 0:e.name].downloadCount++},incrAppStar(t,e){const{state:o}=t;o!=null&&o.Expand[e==null?void 0:e.name]&&(o.Expand[e==null?void 0:e.name].starCount++,o.Expand[e==null?void 0:e.name].isStar=!0)},filterCurApps(t,e){const{commit:o,dispatch:n}=t;o("setCur",e)},getApps(t){const{state:e,dispatch:o}=t;o("getLocalApps"),o("getStoreApps",e.Cur)},getLocalApps(t){const{commit:e}=t;b.getInstalledApp().then(o=>{o.forEach(n=>{n.installed=!0}),e("setLocalApps",o)})},getStoreApps(t,e){const{state:o,commit:n,dispatch:a}=t;let l=[];b.getStoreAppList(e).then(s=>{s.apps&&(s.apps.forEach(c=>{l.push(c.name)}),a("getStoreAppsExpand",l),n("setStoreApps",s.apps)),o.Load=!0}).catch(s=>{console.log(s)})},getStoreAppsExpand(t,e){const{commit:o}=t;b.getAppExpandData(e).then(n=>{n&&o("setExpand",n)})}}},sn={namespaced:!0,state:{Tags:[],Total:0},mutations:{},getters:{Tags(t){return t.Tags},Total(t){return t.Total}},actions:{getTags(t){const{state:e,commit:o}=t;b.getStoreTags().then(n=>{e.Tags=(n==null?void 0:n.tags)||[],e.Total=(n==null?void 0:n.total)||0})}}},an={namespaced:!0,state:{status:!1,action:"install",content:"",end:!1,exitCode:void 0},mutations:{setStatus(t,e){t.status=e.status,t.action=(e==null?void 0:e.action)||"install",t.content=(e==null?void 0:e.content)||"",t.end=(e==null?void 0:e.end)||!1,t.exitCode=void 0},setContent(t,e){t.content=e},setEnd(t,e){t.end=!0,t.exitCode=e}},getters:{},actions:{}},J=xt({state:{version:"",versionLoad:!1},mutations:{setVersion(t,e){t.version=e},setVersionLoad(t,e){t.versionLoad=e}},modules:{apps:on,tags:sn,log:an},actions:{getData(t){const{dispatch:e}=t;e("tags/getTags"),e("apps/getApps"),e("getVersion")},getVersion(t){return $(this,null,function*(){const{commit:e}=t;try{const o=yield b.updateIstore(),{code:n,msg:a}=o==null?void 0:o.data;n==200&&e("setVersion",a)}catch(o){console.log(o)}e("setVersionLoad",!0)})},istoreUpdated(t){const{commit:e}=t;e("setVersion","")}}}),A={Start(t,e){J.commit("log/setStatus",{status:!0,action:t,content:""})},Stop(){J.commit("log/setStatus",{status:!1,action:"install",content:""})},Add(t){J.commit("log/setContent",t)},End(t){J.commit("log/setEnd",t)}};const rn={props:{col:{type:Object,default(){return{description:"",tags:[],entry:"",author:"",depends:[],installed:!1,hasupdate:!1,title:"",time:"",release:1,website:"",name:"",version:""}}}},setup(t,e){const o=C(()=>t.col),n=F(),a=T.formatDate,l=T.numberToSum,s=i=>{i.then(u=>{let v=u.stdout,h=u.stderr;A.Add(`${v}
${h}`),A.End(u.code)}).catch(u=>{A.Add(u),A.End(500)}).finally(()=>{try{window.L.ui.menu.flushCache()}catch(u){}})},c=i=>{A.Start("upgrade"),s(b.upgradeApp(i))},_=i=>{A.Start("install"),b.increasingDownloadCount(i),n.dispatch("apps/incrAppDownload",{name:i}),s(b.installApp(i))},f=i=>{confirm(`\u786E\u5B9A\u8981\u5378\u8F7D ${i} \u5417?`)&&(A.Start("uninstall"),s(b.removeApp(i)))},k=i=>$(this,null,function*(){O.Start();try{(yield b.postStarApp(i))&&n.dispatch("apps/incrAppStar",{name:i})}catch(u){}O.Stop()}),I=()=>{E("\u60A8\u5DF2\u7ECF\u70B9\u8D5E\u8FC7\u5566\uFF5E")},M=T.getTagValue;return{col:o,formatDate:a,numberToSum:l,upgrade:c,install:_,getAppIcon:i=>o.value.installed?`/luci-static/resources/app-icons/${i}.png`:o.value.icon?b.getStoreAppIcon(o.value.icon):`/luci-static/resources/app-icons/${i}.png`,uninstall:f,StarApp:k,StarApped:I,getTagValue:M}}},tt=t=>(R("data-v-c1f37206"),t=t(),z(),t),cn={class:"app-container"},ln={class:"app-info"},un={class:"app-f"},dn={class:"app-icon"},pn=["src"],_n={class:"app-tags"},mn={class:"tag"},hn=tt(()=>r("span",{class:"block"},"\uFF5C",-1)),vn={class:"app-r"},fn=["title"],gn={class:"app-name"},yn={class:"app-version"},bn={class:"app-as"},$n=tt(()=>r("span",{style:{margin:"0 10px"}},"|",-1)),kn=["title"],wn={class:"app-author"},Cn={class:"app-date"},Sn={class:"app-btns"},xn=["href"],An=tt(()=>r("div",{class:"auto"},null,-1)),Ln=["href"],Tn=tt(()=>r("div",{class:"app-margin-left"},null,-1));function In(t,e,o,n,a,l){var _,f,k,I,M,m,i,u,v,h,G;const s=L("svg-star-off"),c=L("svg-star-on");return d(),p("div",cn,[r("div",ln,[r("div",un,[r("div",dn,[r("img",{alt:"\u56FE\u6807\u51FA\u8D70\u5566",src:n.getAppIcon(n.col.name)},null,8,pn)]),r("div",_n,[(d(!0),p(D,null,K(n.col.tags,V=>(d(),p(D,{key:V},[r("div",mn,[r("span",null,P(n.getTagValue(V)),1)]),hn],64))),128))])]),r("div",vn,[r("div",{class:"app-title",title:n.col.name},[r("span",gn,P(n.col.title),1),r("span",yn,"v"+P(n.col.version),1)],8,fn),r("div",bn,[r("span",null,P(n.numberToSum((f=(_=n.col)==null?void 0:_.expand)==null?void 0:f.downloadCount))+" \u6B21\u4E0B\u8F7D",1),$n,r("span",null,P(n.numberToSum((I=(k=n.col)==null?void 0:k.expand)==null?void 0:I.starCount))+" \u6B21\u70B9\u8D5E",1),((M=n.col)==null?void 0:M.expand)!=null?(d(),p(D,{key:0},[(i=(m=n.col)==null?void 0:m.expand)!=null&&i.isStar?(d(),p("a",{key:0,class:"star-btn",title:"\u5DF2\u70B9\u8D5E",onClick:e[0]||(e[0]=V=>n.StarApped())},[U(s)])):(d(),p("a",{key:1,class:"star-btn",title:"\u70B9\u8D5E",onClick:e[1]||(e[1]=V=>n.StarApp(n.col.name))},[U(c)]))],64)):B("",!0)]),r("div",{class:"app-description cbi-value-description",title:n.col.description},[r("span",null,P(n.col.description||"\u6682\u65E0\u63CF\u8FF0"),1)],8,kn),r("div",wn,[r("span",null,"\u4F5C\u8005:"+P(n.col.author||"\u6682\u65E0"),1)]),r("div",Cn,[r("span",null,"\u66F4\u65B0\u65E5\u671F:"+P(n.formatDate(n.col.time*1e3)||"\u6682\u65E0"),1)])])]),r("div",Sn,[n.col.website?(d(),p("a",{key:0,class:"app-btn cbi-button cbi-button-apply",target:"_blank",href:n.col.website},"\u5B98\u7F51",8,xn)):B("",!0),An,n.col.installed?(d(),p(D,{key:1},[((u=n.col)==null?void 0:u.curVersion)!=((v=n.col)==null?void 0:v.lastVersion)||((h=n.col)==null?void 0:h.curRelease)!=((G=n.col)==null?void 0:G.lastRelease)?(d(),p("a",{key:0,class:"app-btn cbi-button cbi-button-reload",onClick:e[2]||(e[2]=V=>n.upgrade(n.col.name))},"\u66F4\u65B0")):B("",!0),n.col.entry?(d(),p("a",{key:1,class:"app-btn cbi-button cbi-button-apply",href:n.col.entry},"\u6253\u5F00",8,Ln)):B("",!0),Tn,r("a",{class:"app-btn cbi-button cbi-button-remove",onClick:e[3]||(e[3]=V=>n.uninstall(n.col.name))},"\u5378\u8F7D")],64)):(d(),p("a",{key:2,class:"app-btn cbi-button cbi-button-add",onClick:e[4]||(e[4]=V=>n.install(n.col.name))},"\u5B89\u88C5"))])])}var ht=y(rn,[["render",In],["__scopeId","data-v-c1f37206"]]);const En={components:{AppComponent:ht},setup(){const t=F();return{apps:C(()=>t.getters["apps/LocalApps"])}}},Pn={class:"cbi-section"},Bn={class:"containers"};function Dn(t,e,o,n,a,l){const s=L("AppComponent");return d(),p("fieldset",Pn,[r("div",Bn,[(d(!0),p(D,null,K(n.apps,c=>(d(),q(s,{key:c.name,col:c},null,8,["col"]))),128))])])}var Fn=y(En,[["render",Dn],["__scopeId","data-v-708cb351"]]);const Mn={setup(){const t=g("default"),e=F(),o=g([{key:"\u9ED8\u8BA4",value:"default"},{key:"\u6309\u4E0B\u8F7D\u6570",value:"download"},{key:"\u6309\u8BC4\u5206",value:"star"}]);return{selectSort:a=>{t.value=a,e.dispatch("apps/filterCurApps",{sort:a})},curSort:t,sorts:o}}},Vn=t=>(R("data-v-e8823026"),t=t(),z(),t),Un={class:"sort-container"},On=Vn(()=>r("div",{class:"sort-title"},"\u6392\u5E8F:",-1)),Rn={class:"sort-value"},zn=["value","onClick"];function Gn(t,e,o,n,a,l){return d(),p("div",Un,[On,r("div",Rn,[(d(!0),p(D,null,K(n.sorts,s=>(d(),p("input",{key:s.value,class:H(["cbi-button",{"cbi-button-apply":n.curSort==s.value}]),type:"button",value:s.key,onClick:c=>n.selectSort(s.value)},null,10,zn))),128))])])}var Kn=y(Mn,[["render",Gn],["__scopeId","data-v-e8823026"]]);const Wn={setup(){const t=g("default"),e=F(),o=C(()=>e.getters["tags/Tags"]),n=T.getTagValue;return{tags:o,curTag:t,selectTag:l=>{t.value=l,e.dispatch("apps/filterCurApps",{tag:l})},getTagValue:n}}},Zn=t=>(R("data-v-5b43124a"),t=t(),z(),t),qn={class:"tags-container"},Hn=Zn(()=>r("div",{class:"tags-title"}," \u6807\u7B7E: ",-1)),Yn={class:"tags-value"},Nn=["value","onClick"];function Jn(t,e,o,n,a,l){return d(),p("div",qn,[Hn,r("div",Yn,[r("input",{class:H(["cbi-button",{"cbi-button-apply":n.curTag=="default"}]),type:"button",value:"\u9ED8\u8BA4",onClick:e[0]||(e[0]=s=>n.selectTag("default"))},null,2),(d(!0),p(D,null,K(n.tags,s=>(d(),p("input",{key:s,class:H(["cbi-button",{"cbi-button-apply":n.curTag==s}]),type:"button",value:n.getTagValue(s),onClick:c=>n.selectTag(s)},null,10,Nn))),128))])])}var Qn=y(Wn,[["render",Jn],["__scopeId","data-v-5b43124a"]]);const Xn={setup(){const t=g(""),e=F();return{searchKey:t,submitSearch:()=>{e.dispatch("apps/filterCurApps",{search:t.value})}}}};function jn(t,e,o,n,a,l){const s=L("svg-search");return d(),p("form",{class:"search",onSubmit:e[2]||(e[2]=mt((...c)=>n.submitSearch&&n.submitSearch(...c),["prevent"]))},[r("a",{class:"search-btn",onClick:e[0]||(e[0]=(...c)=>n.submitSearch&&n.submitSearch(...c))},[U(s)]),j(r("input",{type:"text",placeholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5173\u952E\u8BCD","onUpdate:modelValue":e[1]||(e[1]=c=>n.searchKey=c)},null,512),[[_t,n.searchKey,void 0,{trim:!0}]])],32)}var to=y(Xn,[["render",jn],["__scopeId","data-v-67adb4c4"]]);const eo={components:{AppComponent:ht},setup(t){const e=F(),o=C(()=>e.getters["apps/StoreApps"]),n=C(()=>e.state.apps.Load);return{apps:o,load:n}}},no={class:"containers"},oo={key:1,style:{margin:"10px 0","text-align":"center",width:"100%"}};function so(t,e,o,n,a,l){const s=L("AppComponent");return d(),p("div",no,[n.load?(d(!0),p(D,{key:0},K(n.apps,c=>(d(),q(s,{key:c.name,col:c},null,8,["col"]))),128)):(d(),p("span",oo,"\u6B63\u5728\u52AA\u529B\u7684\u83B7\u53D6\u6570\u636E..."))])}var ao=y(eo,[["render",so],["__scopeId","data-v-5d27abed"]]);const ro={name:"Store",components:{SortComponent:Kn,TagComponent:Qn,SearchComponent:to,AppsComponent:ao},setup(){}},co={class:"cbi-section"};function lo(t,e,o,n,a,l){const s=L("SearchComponent"),c=L("TagComponent"),_=L("SortComponent"),f=L("AppsComponent");return d(),p("fieldset",co,[U(s),U(c),U(_),U(f)])}var io=y(ro,[["render",lo],["__scopeId","data-v-603a8f16"]]);const uo={setup(){const t=g(null),e=g(null);dt(()=>{if(t.value){const l=t.value;l.addEventListener("dragenter",s=>{(s.fromElement===null||!l.contains(s.fromElement))&&console.log("dragenter")},!1),l.addEventListener("dragleave",s=>{(s.fromElement===null||!l.contains(s.fromElement))&&console.log("dragleave")},!1),l.addEventListener("dragover",s=>{s.preventDefault(),s.dataTransfer.dropEffect="link"},!1),l.addEventListener("drop",s=>{console.log("drop"),s.preventDefault(),o(s)},!1)}});const o=l=>{const s=l.dataTransfer.files;if(s&&s.length>0){const c=s[0];a(c);return}},n=l=>{const s=l.target.files;if(s&&s.length>0){const c=s[0];a(c);return}},a=l=>{if(l.name.endsWith(".run")||l.name.endsWith(".ipk")){let s=new FormData;s.append(l.name,l),A.Start("upload"),b.uploadAppIPK(s).then(c=>{let _=c.stdout,f=c.stderr;A.Add(`${_}
${f}`),A.End(c.code)}).catch(c=>{A.Add(c),A.End(500)}).finally(()=>{try{window.L.ui.menu.flushCache()}catch(c){}})}};return{file:e,upl:t,uploadFile:n,sumbitUpload:a}}},at=t=>(R("data-v-739bd664"),t=t(),z(),t),po={class:"cbi-section"},_o=at(()=>r("div",{class:"container_msg cbi-map-descr"},[r("span",null,"\u79BB\u7EBF\u5B89\u88C5"),r("span",null,"\xB7 \u901A\u8FC7\u672C\u9875\uFF0C\u4F60\u53EF\u4EE5\u4E0A\u4F20\u63D2\u4EF6\u5305\u6765\u5B89\u88C5\u63D2\u4EF6"),r("span",null,"\xB7 \u652F\u6301 .ipk \u63D2\u4EF6\uFF0C.run \u81EA\u89E3\u538B\u683C\u5F0F")],-1)),mo={class:"flex",ref:"upl"},ho={class:"upload-file"},vo=at(()=>r("div",{class:"button"},"\u9009\u62E9\u6216\u62D6\u653E\u6587\u4EF6",-1)),fo=at(()=>r("div",{class:"auto"},null,-1));function go(t,e,o,n,a,l){var s;return d(),p("fieldset",po,[_o,r("form",{onSubmit:e[1]||(e[1]=mt((...c)=>n.sumbitUpload&&n.sumbitUpload(...c),["prevent"]))},[r("div",mo,[r("label",ho,[r("span",null,P(((s=n.file)==null?void 0:s.name)||"\u672A\u9009\u62E9\u4EFB\u4F55\u6587\u4EF6"),1),r("input",{type:"file",name:"file",accept:".ipk, .run",hidden:"",onChange:e[0]||(e[0]=(...c)=>n.uploadFile&&n.uploadFile(...c))},null,32),vo]),fo],512)],32)])}var yo=y(uo,[["render",go],["__scopeId","data-v-739bd664"]]);const bo={setup(){F();const t=C(()=>""),e=C(()=>""),o=C(()=>`${T.getIframeURL()}/#/apps?token=${e.value}&deviceId=${t.value}`);return{token:e,deviceId:t,iframeUrl:o}}},$o={class:"cbi-section"},ko={class:"webapp-container"},wo=["src"];function Co(t,e,o,n,a,l){return d(),p("fieldset",$o,[r("div",ko,[r("iframe",{src:n.iframeUrl,sandbox:"allow-scripts allow-same-origin allow-popups",seamless:""},null,8,wo)])])}var So=y(bo,[["render",Co],["__scopeId","data-v-19ff0ff6"]]);const xo=At({setup(){const t=F(),e=C(()=>t.state.version),o=C(()=>t.state.versionLoad);return{updateVersion:()=>{O.Start("\u6B63\u5728\u66F4\u65B0..."),b.selfUpdateIstore().then(({data:a})=>{if(a){const{stdout:l,stderr:s,code:c}=a;if(c==0){E("\u66F4\u65B0\u6210\u529F"),t.dispatch("istoreUpdated");return}else throw s||"unknown error"}throw"unknown error"}).catch(a=>{E("\u66F4\u65B0\u5931\u8D25: "+a)}).finally(()=>{O.Stop()})},version:e,load:o}}}),Ao={class:"log-containers"},Lo={key:0,class:"containers-tit"},To={key:1,class:"containers-tit"},Io={key:1};function Eo(t,e,o,n,a,l){return d(),p("div",Ao,[t.load?(d(),p("div",To,[t.version?(d(),p(D,{key:0},[r("span",null,"\u6700\u65B0\u7248\u672C:"+P(t.version),1),r("input",{type:"button",class:"app-btn cbi-button cbi-button-apply",onClick:e[0]||(e[0]=s=>t.updateVersion()),value:"\u70B9\u6211\u66F4\u65B0"})],64)):(d(),p("span",Io,"\u5F53\u524D\u5DF2\u7ECF\u662F\u6700\u65B0\u7248\u672C..."))])):(d(),p("div",Lo,"\u6B63\u5728\u68C0\u67E5\u6700\u65B0\u7248\u672C"))])}var Po=y(xo,[["render",Eo],["__scopeId","data-v-49481c33"]]);const Bo={setup(){const t=g(""),e=g(null),o=()=>{O.Start("\u6B63\u5728\u5907\u4EFD..."),b.lightBackup().then(s=>{if(s){const{msg:c,code:_}=s;if(_==200){E({content:'\u5907\u4EFD\u5B8C\u6210\uFF0C<a href="/cgi-bin/luci/admin/store/get_light_backup_file" target="_blank">\u70B9\u6B64\u4E0B\u8F7D</a><br/><br/>',keep:!0,html:!0});return}else throw c||"unknown error"}throw"unknown error"}).catch(s=>{E("\u5907\u4EFD\u5931\u8D25: "+s)}).finally(()=>{O.Stop()})};g(null);const n=s=>{const c=s.target.files;if(c&&c.length>0){const _=c[0];a(_);return}},a=s=>{let c=new FormData;c.append(s.name,s),A.Start("upload"),b.lightRestore(c).then(_=>{let f=_.stdout,k=_.stderr;A.Add(`${f}
${k}`),A.End(_.code)}).catch(_=>{A.Add(_),A.End(500)})};return{upl:e,stdout:t,lightBackup:o,uploadFile:n,sumbitUpload:a,triggerFile:s=>{e.value.click(s),s.preventDefault()}}}},vt=t=>(R("data-v-eca17d82"),t=t(),z(),t),Do={class:"Lightweight"},Fo={class:"Lightweight-container"},Mo=vt(()=>r("div",{class:"model"},"\u8BF4\u660E",-1)),Vo={class:"Lightweight-container1"},Uo={class:"container1-center"},Oo=vt(()=>r("div",{class:"Lightweight-tit"},[r("span",null,"\xB7 \u7ACB\u5373\u5907\u4EFD\u5C06\u4E0B\u8F7DiStore\u5DF2\u5B89\u88C5\u7684\u8F6F\u4EF6\u5217\u8868\uFF1B"),r("span",null,"\xB7 \u6062\u590D\u5907\u4EFD\u65F6\u4E0A\u4F20\u8F6F\u4EF6\u5217\u8868\u5E76\u4ECEiStore\u5B89\u88C5")],-1)),Ro={class:"Lightweight-backup"};function zo(t,e,o,n,a,l){return d(),p("div",Do,[r("div",Fo,[Mo,r("div",Vo,[r("div",Uo,[Oo,r("div",Ro,[r("input",{type:"button",class:"app-btn cbi-button cbi-button-apply",onClick:e[0]||(e[0]=(...s)=>n.lightBackup&&n.lightBackup(...s)),value:"\u7ACB\u5373\u5907\u4EFD"}),r("input",{type:"file",name:"file",accept:".tar, .gz",hidden:"",onChange:e[1]||(e[1]=(...s)=>n.uploadFile&&n.uploadFile(...s)),ref:"upl"},null,544),r("input",{type:"button",class:"app-btn cbi-button cbi-button-apply",onClick:e[2]||(e[2]=(...s)=>n.triggerFile&&n.triggerFile(...s)),value:"\u6062\u590D\u5907\u4EFD"})])])])])])}var Go=y(Bo,[["render",zo],["__scopeId","data-v-eca17d82"]]);const X=g([]),x=g("-");let N="-";const Ko={setup(){const t=g(!1),e=g([]),o=g(""),n=g(""),a=g(),l=(m,i)=>{if(!(i===""||m.find(u=>u.path===i))){let u;m.filter(v=>v.mount&&v.dev&&i.startsWith(v.mount)).forEach(v=>{u&&u.mount.length>v.mount.length||(u=v)}),m.push({path:i,size:u?u.size:void 0})}X.value=m,x.value=i,s()};x.value=="-"&&(b.localBackupdirPath().then(m=>{if(m){const{code:i,msg:u}=m;i==200&&l(X.value,u)}}),b.getBlockDevices().then(m=>{if(m&&m.code==200){const i=m.data,u=[];for(let v in i){const h=i[v];h.mount&&h.mount!="/"&&h.mount!="/rom"&&h.mount!="/overlay"&&u.push(h)}u.forEach(v=>{v.path=v.mount+"/istore_backup"}),l(u,u.length>0&&x.value==="-"?"":x.value)}}));const s=m=>{t.value=!1,x.value==="-"?(N!="-"&&(n.value=N),a.value.focus()):N=x.value},c=m=>{n.value==""?N!="-"?x.value=N:x.value="":n.value.startsWith("/")?l(X.value,n.value):(E("\u8BF7\u8F93\u5165\u8DEF\u5F84\uFF0C\u653E\u5F03\u8F93\u5165\u8BF7\u6E05\u7A7A\u8F93\u5165\u6846"),a.value.setSelectionRange(0,n.value.length),a.value.focus())},_=()=>x.value.length>1&&x.value.endsWith("/")?x.value.substring(0,x.value.length-1):x.value,f=()=>{let m=_();if(m==""){E("\u8BF7\u586B\u5199\u5916\u90E8\u5B58\u50A8\u76EE\u5F55");return}t.value=!1,b.backupFileList(m).then(i=>{if(i){const{code:u,msg:v}=i;if(u==200){let h=JSON.parse(v);h.length==0?(E("\u6B64\u8DEF\u5F84\u4E0B\u6CA1\u6709\u5907\u4EFD\u6587\u4EF6"),t.value=!1):(e.value=h,t.value=!0);return}throw v||"unknown error"}throw"unknown error"}).catch(i=>{E(i)})},k=()=>{let m=_();if(m==""){E("\u8BF7\u586B\u5199\u5916\u90E8\u5B58\u50A8\u76EE\u5F55");return}O.Start("\u6B63\u5728\u5907\u4EFD..."),b.localBackup(m).then(i=>{if(i){const{msg:u,code:v,stderr:h}=i;if(v==0){E("\u5907\u4EFD\u6210\u529F");return}else throw v==500?u:h||"unknown error"}throw"unknown error"}).catch(i=>{E("\u5907\u4EFD\u5931\u8D25: "+i)}).finally(()=>{O.Stop()})},I=m=>x.value.endsWith("/")?x.value+m:x.value+"/"+m;return{path:x,devices:X,input_path:n,user_input:a,showList:t,result:e,restore_file:o,backupFileList:f,localBackup:k,localRestore:()=>{if(o.value===""){E("\u8BF7\u9009\u62E9\u8981\u6062\u590D\u7684\u5907\u4EFD\u6587\u4EF6");return}O.Start("\u6B63\u5728\u6062\u590D\u5907\u4EFD..."),b.localRestore(I(o.value)).then(m=>{if(m){const{msg:i,stderr:u,code:v}=m;if(v==0){E("\u6062\u590D\u5907\u4EFD\u6210\u529F");return}else throw i||u||"unknown error"}throw"unknown error"}).catch(m=>{E("\u6062\u590D\u5907\u4EFD\u5931\u8D25: "+m)}).finally(()=>{O.Stop()})},onPathChanged:s,onInputPathChanged:c}}},Y=t=>(R("data-v-f0bd22a4"),t=t(),z(),t),Wo={class:"local"},Zo={class:"local-container"},qo=Y(()=>r("div",{class:"model"},"\u8BF4\u660E",-1)),Ho={class:"local-container1"},Yo={class:"container1-center"},No=Y(()=>r("div",{class:"local-tit"},[r("span",null,"\xB7 \u7ACB\u5373\u5907\u4EFD\u5C06\u5907\u4EFD\u5DF2\u5B89\u88C5\u8F6F\u4EF6\uFF08\u4E0D\u9650\u5B89\u88C5\u6765\u6E90\uFF09\u5230\u5916\u90E8\u5B58\u50A8\uFF1B"),r("span",null,"\xB7 \u6062\u590D\u65F6\u4E0D\u9700\u8981\u7F51\u7EDC")],-1)),Jo=Y(()=>r("div",{class:"local-device"},"\u5916\u90E8\u5B58\u50A8\u76EE\u5F55\uFF1A",-1)),Qo={class:"local-input"},Xo=Y(()=>r("option",{value:"",disabled:""},"\u8BF7\u9009\u62E9",-1)),jo=["value"],ts=Y(()=>r("option",{value:"-"},"\u81EA\u5B9A\u4E49",-1)),es={key:2,class:"local-btn"},ns={key:0,class:"device-list"},os=Y(()=>r("div",null,"\u9009\u62E9\u5907\u4EFD\u6587\u4EF6\uFF1A",-1)),ss=["value"];function as(t,e,o,n,a,l){return d(),p("div",Wo,[r("div",Zo,[qo,r("div",Ho,[r("div",Yo,[No,Jo,r("div",Qo,[n.path!="-"?j((d(),p("select",{key:0,class:"local-input-field",onChange:e[0]||(e[0]=(...s)=>n.onPathChanged&&n.onPathChanged(...s)),"onUpdate:modelValue":e[1]||(e[1]=s=>n.path=s)},[Xo,(d(!0),p(D,null,K(n.devices,(s,c)=>(d(),p("option",{value:s.path,key:c},P(s.path+(s.size?"\uFF08"+s.size+"\uFF09":"")),9,jo))),128)),ts],544)),[[lt,n.path,void 0,{trim:!0}]]):j((d(),p("input",{key:1,class:"local-input-field",onBlur:e[2]||(e[2]=(...s)=>n.onInputPathChanged&&n.onInputPathChanged(...s)),onKeyup:e[3]||(e[3]=Lt((...s)=>n.onInputPathChanged&&n.onInputPathChanged(...s),["enter"])),placeholder:"\u8BF7\u8F93\u5165/\u5F00\u5934\u7684\u7EDD\u5BF9\u8DEF\u5F84",type:"text","onUpdate:modelValue":e[4]||(e[4]=s=>n.input_path=s),ref:"user_input"},null,544)),[[_t,n.input_path,void 0,{trim:!0}]]),n.path!="-"&&n.path!=""?(d(),p("div",es,[r("input",{type:"button",class:"app-btn cbi-button cbi-button-apply",onClick:e[5]||(e[5]=(...s)=>n.localBackup&&n.localBackup(...s)),value:"\u7ACB\u5373\u5907\u4EFD"}),r("input",{type:"button",class:"app-btn cbi-button cbi-button-apply",onClick:e[6]||(e[6]=(...s)=>n.backupFileList&&n.backupFileList(...s)),value:"\u6062\u590D\u5907\u4EFD"})])):B("",!0)]),n.showList?(d(),p("div",ns,[os,j(r("select",{"onUpdate:modelValue":e[7]||(e[7]=s=>n.restore_file=s)},[(d(!0),p(D,null,K(n.result,s=>(d(),p("option",{key:s,value:s},P(s),9,ss))),128))],512),[[lt,n.restore_file,void 0,{trim:!0}]]),r("input",{type:"button",class:"app-btn cbi-button cbi-button-apply",onClick:e[8]||(e[8]=(...s)=>n.localRestore&&n.localRestore(...s)),value:"\u7ACB\u5373\u6062\u590D"})])):B("",!0)])])])])}var rs=y(Ko,[["render",as],["__scopeId","data-v-f0bd22a4"]]);const cs=g(2),ls={components:{update:Po,lightBackup:Go,localBackup:rs},setup(){return{setup:cs}}},et=t=>(R("data-v-ee364f80"),t=t(),z(),t),is={class:"cbi-map"},us={class:"cbi-section"},ds=et(()=>r("span",{class:"panel-title"},"\u66F4\u65B0iStore",-1)),ps={class:"cbi-section"},_s=et(()=>r("span",{class:"panel-title"},"\u8F6F\u4EF6\u5907\u4EFD",-1)),ms={class:"cbi-tabmenu"},hs=et(()=>r("a",{onclick:"false",href:"#"},"\u8F7B\u91CF\u5907\u4EFD",-1)),vs=[hs],fs=et(()=>r("a",{onclick:"false",href:"#"},"\u672C\u5730\u5907\u4EFD",-1)),gs=[fs];function ys(t,e,o,n,a,l){const s=L("update"),c=L("lightBackup"),_=L("localBackup");return d(),p("div",is,[r("fieldset",us,[ds,U(s)]),r("fieldset",ps,[_s,r("ul",ms,[r("li",{class:H(n.setup==2?"cbi-tab":"cbi-tab-disabled"),onClick:e[0]||(e[0]=f=>n.setup=2)},vs,2),r("li",{class:H(n.setup==3?"cbi-tab":"cbi-tab-disabled"),onClick:e[1]||(e[1]=f=>n.setup=3)},gs,2)]),n.setup==2?(d(),q(c,{key:0})):B("",!0),n.setup==3?(d(),q(_,{key:1})):B("",!0)])])}var bs=y(ls,[["render",ys],["__scopeId","data-v-ee364f80"]]);const $s=Tt({history:It(T.BasePage()),routes:[{path:"/",redirect:"/installed"},{path:"/installed",name:"Installed",component:Fn},{path:"/store",name:"Store",component:io},{path:"/upload",name:"Upload",component:yo},{path:"/webapps",name:"Webapps",component:So},{path:"/maintance",name:"Maintance",component:bs},{path:"/:pathMatch(.*)*",name:"notfound",redirect:"/"}]}),ks={},ws={width:"16px",height:"16px",viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Cs=r("path",{d:"M14.9234958,14.5525054 L10.84453,10.4679606 C11.8849284,9.46327833 12.5294813,8.07823887 12.5294813,6.55073066 C12.5294813,3.48989918 9.94358337,1 6.76474066,1 C3.58589795,1 1,3.48989918 1,6.55073066 C1,9.61156213 3.58589795,12.1014613 6.76474066,12.1014613 C8.16008242,12.1014613 9.44067838,11.621191 10.438802,10.8242646 L14.5276502,14.9188536 C14.5814545,14.9730393 14.6533765,15 14.725573,15 C14.7942009,15 14.8625542,14.9754182 14.9158095,14.9262546 C15.025065,14.8250198 15.0283592,14.6577049 14.9234958,14.5525054 Z M6.76474066,11.5728203 C3.8886841,11.5728203 1.54902292,9.32001661 1.54902292,6.55073066 C1.54902292,3.7814447 3.8886841,1.52864101 6.76474066,1.52864101 C9.64079723,1.52864101 11.9804584,3.7814447 11.9804584,6.55073066 C11.9804584,9.32001661 9.64052272,11.5728203 6.76474066,11.5728203 Z",id:"Shape",stroke:"#FFFFFF","stroke-width":"1.3"},null,-1),Ss=[Cs];function xs(t,e,o,n,a,l){return d(),p("svg",ws,Ss)}var As=y(ks,[["render",xs]]);const Ls={},Ts={width:"12px",height:"12px",viewBox:"0 0 12 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Is=r("path",{d:"M10.171916,3.81818329 C10.6519813,3.81274681 11.1102149,4.01840688 11.4252438,4.38069009 C11.7402726,4.74297329 11.8803105,5.2253253 11.8081406,5.70080197 L11.0555552,10.608963 C10.9332063,11.4157454 10.2351606,12.0090843 9.42537185,12 L3.27269856,12 C2.97145497,12 2.7272488,11.7556885 2.7272488,11.454445 L2.7272488,5.4544976 C2.7272488,5.37817917 2.74326442,5.30271013 2.77426027,5.23296947 L4.95605931,0.323921631 C5.04360472,0.126944443 5.23894201,0 5.4544976,0 C6.65947193,0 7.63629663,0.976824702 7.63629663,2.18179904 L7.63629663,3.81815451 L10.171916,3.81818329 Z M3.81814832,10.9090654 L9.43153778,10.9090654 C9.70352269,10.9121048 9.93620458,10.7143252 9.97712277,10.4445109 L10.7297188,5.53628009 C10.7537339,5.3780602 10.7070546,5.2172762 10.602045,5.09651513 C10.4970353,4.97575406 10.3442908,4.9072007 10.1780925,4.90904784 L7.09084687,4.90904784 C6.78960329,4.90904784 6.54539711,4.66484166 6.54539711,4.36359808 L6.54539711,2.18179904 C6.54539711,1.69494967 6.22647822,1.2825878 5.78615711,1.14223013 L3.81814832,5.57024992 L3.81814832,10.9090654 Z M2.7272488,5.99994736 L1.63634928,5.99994736 C1.33510569,5.99994736 1.09089952,6.24415353 1.09089952,6.54539711 L1.09089952,10.3635454 C1.09089952,10.664789 1.33510569,10.9089952 1.63634928,10.9089952 L2.7272488,10.9089952 L2.7272488,5.99994736 Z M3.27269856,11.9998947 L1.63634928,11.9998947 C0.732618527,11.9998947 -1.03028697e-13,11.2672762 -1.03028697e-13,10.3635454 L-1.03028697e-13,6.54539711 C-1.03028697e-13,5.64166636 0.732618527,4.90904784 1.63634928,4.90904784 L3.27269856,4.90904784 C3.57394214,4.90904784 3.81814832,5.15325401 3.81814832,5.4544976 L3.81814832,11.454445 C3.81814832,11.7556885 3.57394214,11.9998947 3.27269856,11.9998947 Z",id:"Shape",fill:"#FFFFFF","fill-rule":"nonzero"},null,-1),Es=[Is];function Ps(t,e,o,n,a,l){return d(),p("svg",Ts,Es)}var Bs=y(Ls,[["render",Ps]]);const Ds={},Fs={width:"12px",height:"12px",viewBox:"0 0 12 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Ms=r("path",{d:"M10.171916,3.81818329 C10.6519813,3.81274681 11.1102149,4.01840688 11.4252438,4.38069009 C11.7402726,4.74297329 11.8803105,5.2253253 11.8081406,5.70080197 L11.0555552,10.608963 C10.9332063,11.4157454 10.2351606,12.0090843 9.42537185,12 L3.27269856,12 C2.97145497,12 2.7272488,11.7556885 2.7272488,11.454445 L2.7272488,5.4544976 C2.7272488,5.37817917 2.74326442,5.30271013 2.77426027,5.23296947 L4.95605931,0.323921631 C5.04360472,0.126944443 5.23894201,0 5.4544976,0 C6.65947193,0 7.63629663,0.976824702 7.63629663,2.18179904 L7.63629663,3.81815451 L10.171916,3.81818329 Z M3.27269856,11.9998947 L1.63634928,11.9998947 C0.732618527,11.9998947 0,11.2672762 0,10.3635454 L0,6.54539711 C0,5.64166636 0.732618527,4.90904784 1.63634928,4.90904784 L3.27269856,4.90904784 C3.57394214,4.90904784 3.81814832,5.15325401 3.81814832,5.4544976 L3.81814832,11.454445 C3.81814832,11.7556885 3.57394214,11.9998947 3.27269856,11.9998947 Z",id:"Shape",fill:"#FFE45A","fill-rule":"nonzero"},null,-1),Vs=[Ms];function Us(t,e,o,n,a,l){return d(),p("svg",Fs,Vs)}var Os=y(Ds,[["render",Us]]);const Q=ot(Ke);Q.component("svg-search",As);Q.component("svg-star-on",Bs);Q.component("svg-star-off",Os);Q.use($s).use(J);Q.mount("#app")});export default Rs();
